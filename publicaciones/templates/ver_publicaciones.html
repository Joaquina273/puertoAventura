{% extends "base_generic.html" %}
{% load static %}

{% block content %}

<style>


.offer-button {
            background-color: #EDC5AB; /* Color de fondo */
            color: white; /* Color del texto */
            border: none; /* Sin borde */
            padding: 10px 20px; /* Espaciado interno */
            font-size: 16px; /* Tamaño de la fuente */
            font-weight: bold; /* Texto en negrita */
            border-radius: 25px; /* Esquinas redondeadas */
            width: 100%; /* Ancho completo */
            cursor: pointer; /* Cambiar cursor al pasar el mouse */
}

.button-container {
    display: flex; /* Para alinear los botones en una fila */
    gap: 10px; /* Espacio entre los botones */
    margin-top: 10px; /* Espacio superior para separar los botones del contenido anterior */
}


/* Estilos generales */
.card {
    margin-bottom: 20px; /* Espacio entre tarjetas */
    border: 1px solid #ddd; /* Borde de tarjeta */
    border-radius: 8px; /* Bordes redondeados */
}

.card:hover {
    box-shadow: 0 0 11px rgba(33,33,33,.2); /* Sombra al pasar el mouse */
}

.card-img-top {
    border-top-left-radius: 8px; /* Bordes redondeados en la esquina superior izquierda */
    border-top-right-radius: 8px; /* Bordes redondeados en la esquina superior derecha */
}

.card-body {
    padding: 20px; /* Espacio interno del cuerpo de la tarjeta */
}

.card-title {
    font-size: 20px; /* Tamaño de fuente del título */
    margin-bottom: 10px; /* Espacio entre el título y otros elementos */
}

.card-subtitle {
    font-size: 16px; /* Tamaño de fuente del subtítulo */
    color: #666; /* Color del subtítulo */
    margin-bottom: 10px; /* Espacio entre subtítulo y otros elementos */
}

.user-info {
    font-size: 14px; /* Tamaño de fuente de la información del usuario */
    color: #777; /* Color de la información del usuario */
    margin-bottom: 5px; /* Espacio entre información del usuario y otros elementos */
}

.card-text {
    font-size: 16px; /* Tamaño de fuente del texto de la tarjeta */
    margin-bottom: 15px; /* Espacio entre texto de la tarjeta y otros elementos */
}

.row {
    margin-left: -10px; /* Compensar el padding de la fila */
    margin-right: -10px; /* Compensar el padding de la fila */
}

.col-4 {
    padding-left: 10px; /* Espaciado izquierdo de la columna */
    padding-right: 10px; /* Espaciado derecho de la columna */
}

.alert {
    margin-top: 20px; /* Espacio superior de la alerta */
    padding: 15px; /* Espaciado interno de la alerta */
    border-radius: 8px; /* Bordes redondeados de la alerta */
}

.alert-danger {
    color: #721c24; /* Color del texto de la alerta de peligro */
    background-color: #f8d7da; /* Color de fondo de la alerta de peligro */
    border: 1px solid #f5c6cb; /* Borde de la alerta de peligro */
}

</style>
<script>
</script>
{% if state == none %}
    <h2><h2>Todas las Publicaciones</h2></h2>
{% elif state == 0 %}
    <h2>Publicaciones Diponibles</h2>
{% elif state == 2%}
    <h2>Publicaciones Finalizadas</h2>
{% endif %}
<div class="container-fluid">
    <div class="row">
      
        <div class="col-lg-3">
            <form action="{% url 'publicaciones:ver_publicaciones' %}" method="GET" id="">
                {% csrf_token %}
                <input type="hidden" name="form_type" value="filtrador_form" />
                <input type="hidden" name="state" value="{{ state }}" />
                {% if palabra %}
                <input type="hidden" name="palabra" value="{{ palabra }}">
                {% endif %}
                <div class="dropdown mb-3">
                    <select class="form-select" id="tipo-embarcacion" name="tipo-embarcacion">
                        <option value="">Tipo de embarcación</option>
                        {% for tipo in tipos %} 
                        <option value="{{ tipo }}">{{ tipo }}</option>
                        {% endfor %}
                    </select>
                </div>
        
                
                <div class="dropdown mb-3">
                    <select class="form-select" id="valor" name="valor">
                        <option value="">Valor</option>
                        <option value="99">Menor a $1.000.000</option>
                        <option value="1000001">$1.000.000 - $10.000.000</option>
                        <option value="10000001">Mayor a $10.000.000</option>
                    </select>
                </div>
        
                
                <div class="dropdown mb-3">
                    <select class="form-select" id="puerto" name="puerto">
                        <option value="">Puerto</option>
                        {% for puerto in puertos %}
                        <option value="{{ puerto.name }}">{{ puerto.name }}</option>
                        {% endfor %}
                    </select>
                </div>
        
                
                <div class="dropdown mb-3">
                    <select class="form-select" id="tamano-eslora" name="tamano-eslora">
                        <option value="">Tamaño de eslora</option>
                        <option value="4">Menor a 5 metros</option>
                        <option value="10">Entre 6 y 15 metros</option>
                        <option value="15">Más de 15 metros</option>
                    </select>
                </div>
        
                
                <button type="submit" class="btn btn-primary">Filtrar</button>
            </form>
        </div>

       
        <div class="col-lg-9">
            {% if posts %}
                <div class="row">
                    {% for post in posts %}
                        <div class="col-4 mb-4">
                            <div class="card" style="width: 18rem;">
                                <a href="{{ post.id }}">
                                    <img src="{{ post.image.url }}" class="card-img-top" alt="{{ post.title }}">
                                </a>
                                <div class="card-body">
                                    <h5 class="card-title">{{ post.title }}</h5>
                                    <p class="card-text">Valor: {{ post.value }}</p>
                                    <p class="card-text">Tipo de embarcación: {{ post.ship_type }}</p>
                                    <p class="card-text">Puerto: {{ post.port.name }}</p>
                                    <a href="#" class="btn btn-primary">Ver detalles</a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="alert alert-danger">No hay publicaciones disponibles</div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}