{% extends "base_generic.html" %}
{% load static %}

{% block content %}

<style>
    .icon-hover:hover {
    border-color: #3b71ca !important;
    background-color: white !important;
    color: #3b71ca !important;
    }

    .icon-hover:hover i {
  color: #3b71ca !important;
    }
</style>
{% if post %}
<section class="py-5">
    <div class="container">
      <div class="row gx-5">
        <aside class="col-lg-6">
          <div class="border rounded-4 mb-3 d-flex justify-content-center">
            <a data-fslightbox="mygalley" class="rounded-4" target="_blank" data-type="image" href="image">
              <img style="max-width: 100%; max-height: 100vh; margin: auto;" class="rounded-4 fit" src="{{ post.image.url }}" />
            </a>
          </div>
          <!-- thumbs-wrap.// -->
          <!-- gallery-wrap .end// -->
        </aside>
        <main class="col-lg-6">
          <div class="ps-lg-3">
            <h4 class="title text-dark">
                {{ post.title }}
            </h4>
            <div class="d-flex flex-row my-3">
              <span class="text-success ms-2">Disponible</span>
            </div>
  
            <div class="mb-3">
              <span class="text-muted">Valor: </span>
              <span class="h5">${{ post.value }}</span>
            </div>
  
            <p>
                Una breve descripción
            </p>
  
            <div class="row">
              <dt class="col-3">Tipo:</dt>
              <dd class="col-9">{{ post.ship_type }}</dd>
  
              <dt class="col-3">Eslora:</dt>
              <dd class="col-9">{{ post.eslora }}</dd>
  
              <dt class="col-3">Modelo:</dt>
              <dd class="col-9">{{ post.model }}</dd>
  
              <dt class="col-3">Puerto:</dt>
              <dd class="col-9">{{ post.port.name }}</dd>

              <dt class="col-3">Propietario:</dt>
              <dd class="col-9">{{ post.user.name }} {{ post.user.surname }}</dd>
            </div>
  
            <hr />
  
            <a href="#" class="btn btn-primary shadow-0" onclick="copyToClipboard()"> <i class="me-1 fa fa-shopping-basket"></i> Compartir </a>
            {% if usuario %}
              {% if saved == True %}
                <a href="guardar" class="btn btn-dark border border-secondary py-2 icon-hover px-3"> <i class="me-1 fa fa-heart fa-lg"></i> Guardada </a>
              {% else %}
                <a href="guardar" class="btn btn-light border border-secondary py-2 icon-hover px-3"> <i class="me-1 fa fa-heart fa-lg"></i> Guardar </a>
              {% endif %}
              <!-- Comento el botón de ofertar 
              <a href="#" class="btn btn-warning shadow-0"> Ofertar </a>
              -->
            {% endif %}
          </div>
          <div id="copyAlert" class="alert alert-success" role="alert" style="display: none;">
            Enlace copiado al portapapeles.
        </div>
        </main>
      </div>
    </div>
  </section>
{% elif image %}
<ul>
    <li><img src="{{ image.url }}" alt="Imagen"></li>
</ul>
{% endif %}

<script>
  function copyToClipboard() {
      // Crear un campo de texto temporal
      var tempInput = document.createElement('input');
      tempInput.value = window.location.href;
      document.body.appendChild(tempInput);
      // Seleccionar el contenido del campo de texto
      tempInput.select();
      // Copiar el texto seleccionado al portapapeles
      document.execCommand("copy");
      // Remover el campo de texto temporal
      document.body.removeChild(tempInput);
      var copyAlert = document.getElementById("copyAlert");
            copyAlert.style.display = "block";
            // Ocultar la alerta después de 3 segundos
            setTimeout(function() {
                copyAlert.style.display = "none";
            }, 3000);
    }
</script>
{% endblock %}
